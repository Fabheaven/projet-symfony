{% extends 'layout.html.twig' %}

{% block title %}
  Connexion
{% endblock %}

{% block body %}
  <h1>Connexion</h1>

  {# Affichage des messages flash #}
  {% for label, messages in app.flashes %}
      {% for message in messages %}
          <div class="alert alert-{{ label }}">
              {{ message }}
          </div>
      {% endfor %}
  {% endfor %}

  {{ form_start(loginForm) }}

    {{ form_widget(loginForm.email, {'full_name':'email', 'value': last_email}) }}
    {{ form_errors(loginForm.email) }}

    {{ form_widget(loginForm.password, {'full_name':'password'}) }}
    {{ form_errors(loginForm.password) }}

    {# Ajout du bouton de connexion #}
    <button type="submit" class="btn btn-primary">Se connecter</button>

  {{ form_end(loginForm) }}

  {# Lien vers la page d'inscription #}
  <p>Pas encore de compte ? <a href="{{ path('app_inscription') }}">S'inscrire</a></p>

  {% if error %}
    <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
  {% endif %}

{% endblock %}
